DJANGO_SECRET_KEY=replace-this-value
DJANGO_DEBUG=True
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1
# Optional overrides (secure production defaults are automatic when DJANGO_DEBUG=False):
# DJANGO_SECURE_SSL_REDIRECT=True
# DJANGO_SECURE_HSTS_SECONDS=31536000
# DJANGO_SECURE_HSTS_INCLUDE_SUBDOMAINS=True
# DJANGO_SECURE_HSTS_PRELOAD=True
# DJANGO_SESSION_COOKIE_SECURE=True
# DJANGO_CSRF_COOKIE_SECURE=True

# Supabase Postgres connection string
# Supabase Postgres connection string
# DATABASE_URL=postgresql://postgres:password@host:port/postgres
DB_NAME=postgres
DB_USER=postgres
DB_PASSWORD=your_db_password
DB_HOST=aws-0-us-east-1.pooler.supabase.com
DB_PORT=5432

CORS_ALLOWED_ORIGINS=http://localhost:5173,http://127.0.0.1:5173
CSRF_TRUSTED_ORIGINS=http://localhost:5173,http://127.0.0.1:5173

# Clerk Auth - get these from https://dashboard.clerk.com -> API Keys
CLERK_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxxxxxxxxx
CLERK_DOMAIN=your-domain.clerk.accounts.dev
CLERK_JWKS_URL=https://your-domain.clerk.accounts.dev/.well-known/jwks.json
CLERK_JWT_ISSUER=https://your-domain.clerk.accounts.dev
CLERK_JWT_AUDIENCE=
CLERK_AUTHORIZED_PARTIES=http://localhost:5173,http://127.0.0.1:5173
# Entitlement claim key used for billing feature gates (example keys: smart_reminders, ai_coach)
CLERK_BILLING_CLAIM=entitlements

# Clerk Webhooks - get from Clerk Dashboard -> Webhooks -> Signing Secret
CLERK_WEBHOOK_SIGNING_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Order confirmation controls (keep both False in production; rely on verified webhooks).
ORDER_CONFIRM_ALLOW_MANUAL=False
ORDER_CONFIRM_ALLOW_CLIENT_SIDE_CLERK_CONFIRM=False
# Optional shared secret for any direct order confirmation endpoint usage.
ORDER_CONFIRM_SHARED_SECRET=

# Supabase - get from https://supabase.com/dashboard -> Project Settings -> API
SUPABASE_URL=https://YOUR_PROJECT_REF.supabase.co
SUPABASE_ANON_KEY=eyXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
SUPABASE_SERVICE_ROLE_KEY=eyXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
# Optional probe table override for /api/supabase/profile/ (defaults to trying api_profile then profiles)
SUPABASE_PROFILE_TABLE=api_profile

# Block storage for digital assets
# ASSET_STORAGE_BACKEND: supabase (default) or s3
ASSET_STORAGE_BACKEND=supabase
ASSET_STORAGE_BUCKET=digital-assets
ASSET_STORAGE_SIGNED_URL_TTL_SECONDS=600

# S3 compatible storage settings (used only when ASSET_STORAGE_BACKEND=s3)
# ASSET_STORAGE_S3_ENDPOINT_URL=https://s3.amazonaws.com
ASSET_STORAGE_S3_ENDPOINT_URL=
ASSET_STORAGE_S3_REGION=us-east-1
ASSET_STORAGE_S3_ACCESS_KEY_ID=
ASSET_STORAGE_S3_SECRET_ACCESS_KEY=

# Frontend URL used in transactional email deep-links
FRONTEND_APP_URL=http://localhost:5173

# Resend transactional email settings
# Create API key at https://resend.com/api-keys
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxxxxxxxxx
RESEND_FROM_EMAIL=Acme <updates@yourdomain.com>
RESEND_REPLY_TO_EMAIL=support@yourdomain.com
RESEND_TIMEOUT_SECONDS=10

# Optional AI provider placeholders (for subscription + usage scaffolding)
OPENAI_API_KEY=
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_DEFAULT_MODEL=gpt-4.1-mini
OPENAI_IMAGE_MODEL=gpt-image-1
OPENROUTER_API_KEY=
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
OPENROUTER_DEFAULT_MODEL=openai/gpt-4.1-mini
OPENROUTER_IMAGE_MODEL=openai/gpt-image-1
OLLAMA_BASE_URL=http://127.0.0.1:11434
OLLAMA_MODEL=
OLLAMA_IMAGE_MODEL=

# AI runtime controls
# Keep simulator enabled locally for cost-free pipeline testing.
AI_SIMULATOR_ENABLED=True
# Keep provider calls off by default; enable only when keys and provider endpoints are configured.
AI_PROVIDER_CALLS_ENABLED=False
# Strictly enforce per-cycle usage limits in server-side checks.
AI_USAGE_ENFORCEMENT_ENABLED=True
AI_PROVIDER_TIMEOUT_SECONDS=45
AI_DEFAULT_CHAT_MODEL=gpt-4.1-mini
AI_DEFAULT_IMAGE_SIZE=1024x1024

# Per-cycle usage limits
AI_USAGE_LIMIT_FREE_TOKENS=100000
AI_USAGE_LIMIT_FREE_IMAGES=120
AI_USAGE_LIMIT_FREE_VIDEOS=2
AI_USAGE_LIMIT_PRO_TOKENS=1500000
AI_USAGE_LIMIT_PRO_IMAGES=1000
AI_USAGE_LIMIT_PRO_VIDEOS=40

# Billing sync freshness windows (Clerk remains billing source of truth).
# Soft stale window allows requests while showing warnings.
BILLING_SYNC_SOFT_STALE_SECONDS=900
# Hard TTL blocks usage-generating requests until sync is healthy again.
BILLING_SYNC_HARD_TTL_SECONDS=10800
BILLING_SYNC_SOFT_WARNING_MESSAGE=Billing sync is delayed. Usage enforcement still applies.
BILLING_SYNC_HARD_BLOCK_MESSAGE=Billing verification is stale. Retry in a moment.

# DRF API throttles
DRF_THROTTLE_ANON=120/min
DRF_THROTTLE_USER=1500/hour
DRF_THROTTLE_CHECKOUT_CREATE=60/hour
DRF_THROTTLE_ORDER_CONFIRM=60/hour
DRF_THROTTLE_DOWNLOAD_ACCESS=180/hour

# Logging verbosity
DJANGO_LOG_LEVEL=INFO
API_LOG_LEVEL=INFO
