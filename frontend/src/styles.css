@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@500;700&family=Newsreader:opsz,wght@6..72,500;6..72,700&family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: light;
  --bg: #efe7d8;
  --bg-elevated: rgba(255, 249, 238, 0.9);
  --bg-strong: #fffdf6;
  --text-primary: #1d140d;
  --text-muted: #5f4c3d;
  --border: rgba(87, 57, 32, 0.22);
  --accent: #d14d1d;
  --accent-strong: #a9380f;
  --accent-alt: #efaf4b;
  --signal: #c75a22;
  --ok: #1a6a42;
  --warn: #a43233;
  --shadow: 0 24px 58px rgba(44, 28, 17, 0.18);
}

:root[data-theme='dark'] {
  color-scheme: dark;
  --bg: #10131a;
  --bg-elevated: rgba(20, 24, 33, 0.85);
  --bg-strong: #1a212c;
  --text-primary: #f7f1e6;
  --text-muted: #c6b8a8;
  --border: rgba(227, 186, 140, 0.22);
  --accent: #ff7a45;
  --accent-strong: #ffa478;
  --accent-alt: #ffd06f;
  --signal: #ff9e63;
  --ok: #5ed391;
  --warn: #ff9f9f;
  --shadow: 0 28px 74px rgba(0, 0, 0, 0.5);
}

@layer base {
  * {
    @apply box-border;
  }

  html,
  body,
  #app {
    @apply min-h-full;
  }

  body {
    @apply m-0 font-sans text-text-primary antialiased;
    background:
      radial-gradient(circle at 2% 4%, color-mix(in srgb, var(--accent) 18%, transparent) 0%, transparent 36%),
      radial-gradient(circle at 98% 0%, color-mix(in srgb, var(--accent-alt) 24%, transparent) 0%, transparent 34%),
      linear-gradient(165deg, var(--bg), color-mix(in srgb, var(--bg) 87%, #ffffff 13%) 54%, var(--bg));
    transition: background 220ms ease, color 220ms ease;
  }

  h1,
  h2,
  h3,
  h4 {
    @apply m-0 font-heading tracking-tight text-text-primary;
  }

  p {
    @apply m-0 leading-relaxed;
  }

  a {
    @apply text-inherit;
  }

  code {
    @apply inline-block rounded-lg px-2 py-1 font-mono;
    background: color-mix(in srgb, var(--accent) 14%, transparent);
    font-size: 0.82em;
  }
}

@layer components {
  .shell {
    @apply mx-auto grid gap-7;
    width: min(1240px, 93vw);
    padding: 2.2rem 0 7rem;
  }

  .shell > * {
    animation: rise-in 430ms ease-out both;
  }

  .shell > *:nth-child(2) {
    animation-delay: 40ms;
  }

  .shell > *:nth-child(3) {
    animation-delay: 80ms;
  }

  .shell > *:nth-child(4) {
    animation-delay: 120ms;
  }

  .shell > *:nth-child(5) {
    animation-delay: 160ms;
  }

  .panel {
    @apply grid gap-6 rounded-[1.9rem] border p-8;
    border-color: var(--border);
    background: var(--bg-elevated);
    box-shadow: var(--shadow);
    backdrop-filter: blur(12px);
  }

  .screen {
    @apply grid gap-8 rounded-[2rem] border p-10;
    border-color: color-mix(in srgb, var(--accent) 18%, var(--border));
    background: var(--bg-elevated);
    box-shadow: var(--shadow);
    backdrop-filter: blur(12px);
  }

  .warning-panel {
    border-color: color-mix(in srgb, var(--warn) 44%, var(--border));
    background: color-mix(in srgb, var(--warn) 10%, var(--bg-elevated));
  }

  .site-header {
    @apply sticky top-4 z-30 grid items-center gap-5 rounded-[1.7rem] border px-6 py-5;
    grid-template-columns: auto 1fr auto;
    border-color: color-mix(in srgb, var(--accent) 22%, var(--border));
    background: color-mix(in srgb, var(--bg-elevated) 88%, transparent);
    backdrop-filter: blur(18px);
  }

  .site-brand-shell {
    @apply flex cursor-pointer items-center gap-3;
  }

  .site-brand-mark {
    @apply grid h-11 w-11 place-items-center rounded-2xl font-mono text-sm font-bold text-white;
    background: linear-gradient(145deg, var(--accent), color-mix(in srgb, var(--accent-alt) 36%, var(--accent) 64%));
    box-shadow: 0 12px 25px color-mix(in srgb, var(--accent) 28%, transparent);
  }

  .site-brand-text {
    @apply grid gap-0.5;
  }

  .site-brand {
    @apply text-base font-extrabold;
  }

  .site-brand-subtitle {
    @apply text-xs font-semibold uppercase tracking-[0.14em] text-text-muted;
  }

  .site-nav {
    @apply flex flex-wrap justify-center gap-2;
  }

  .site-link {
    @apply rounded-full border border-transparent px-4 py-2.5 text-sm font-semibold text-text-muted no-underline transition;
    transition-duration: 150ms;
  }

  .site-link:hover {
    @apply text-text-primary;
    border-color: color-mix(in srgb, var(--accent) 38%, transparent);
    background: color-mix(in srgb, var(--accent) 11%, transparent);
  }

  .site-link-active {
    @apply text-text-primary;
    border-color: color-mix(in srgb, var(--accent) 44%, transparent);
    background: color-mix(in srgb, var(--accent) 18%, transparent);
  }

  .site-actions {
    @apply flex flex-wrap items-center justify-end gap-3;
  }

  .theme-toggle {
    min-width: 8.1rem;
  }

  .button {
    @apply inline-flex items-center justify-center rounded-xl border border-transparent px-4 py-3 text-sm font-bold no-underline transition;
    transition-duration: 160ms;
  }

  .button:hover {
    transform: translateY(-1px);
  }

  .button:disabled {
    @apply cursor-not-allowed opacity-60;
    transform: none;
  }

  .button-primary {
    @apply text-white;
    background: linear-gradient(145deg, var(--accent), color-mix(in srgb, var(--accent-alt) 34%, var(--accent) 66%));
    box-shadow: 0 12px 24px color-mix(in srgb, var(--accent) 30%, transparent);
  }

  .button-secondary,
  .button-ghost {
    @apply border text-text-primary;
    border-color: var(--border);
    background: color-mix(in srgb, var(--bg-strong) 90%, transparent);
  }

  .screen-header {
    @apply grid gap-4;
  }

  .screen-eyebrow,
  .eyebrow {
    @apply text-xs font-extrabold uppercase text-text-muted;
    letter-spacing: 0.16em;
  }

  .screen-title {
    font-size: clamp(2rem, 3.8vw, 3.4rem);
    line-height: 1.07;
    max-width: 16ch;
  }

  .screen-lead {
    @apply text-base text-text-muted;
    max-width: 68ch;
  }

  .screen-actions,
  .hero-actions {
    @apply flex flex-wrap gap-3.5;
  }

  .section-head {
    @apply grid gap-2.5;
  }

  .section-head > h2 {
    font-size: clamp(1.45rem, 2.2vw, 2rem);
    line-height: 1.18;
  }

  .section-head-inline {
    @apply flex flex-wrap items-center justify-between gap-3;
  }

  .tutorial-shell {
    @apply grid gap-4 rounded-3xl border p-6;
    border-color: color-mix(in srgb, var(--accent) 20%, var(--border));
    background: color-mix(in srgb, var(--bg-strong) 92%, transparent);
  }

  .tutorial-grid {
    @apply grid gap-4;
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }

  .tutorial-card {
    @apply grid gap-2.5 rounded-2xl border p-4;
    border-color: color-mix(in srgb, var(--accent) 14%, var(--border));
    background: color-mix(in srgb, var(--bg-strong) 95%, transparent);
  }

  .tutorial-card h3 {
    @apply text-lg;
    line-height: 1.2;
  }

  .tutorial-card p {
    @apply text-sm text-text-muted;
    font-size: 0.94rem;
  }

  .tutorial-list {
    @apply m-0 grid gap-2.5 text-sm text-text-muted;
    padding-left: 1.1rem;
  }

  .launch-checklist-shell {
    @apply grid gap-4 rounded-3xl border p-6;
    border-color: color-mix(in srgb, var(--accent) 25%, var(--border));
    background: color-mix(in srgb, var(--accent) 6%, var(--bg-strong) 94%);
  }

  .checklist-progress {
    @apply rounded-full border px-3 py-1 text-xs font-bold uppercase;
    letter-spacing: 0.11em;
    border-color: color-mix(in srgb, var(--accent) 28%, var(--border));
    background: color-mix(in srgb, var(--bg-strong) 94%, transparent);
  }

  .launch-checklist-grid {
    @apply grid gap-4;
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .checklist-item {
    @apply grid gap-3 rounded-2xl border p-4;
    border-color: color-mix(in srgb, var(--accent) 16%, var(--border));
    background: color-mix(in srgb, var(--bg-strong) 95%, transparent);
  }

  .checklist-item-done {
    border-color: color-mix(in srgb, var(--ok) 36%, var(--border));
    background: color-mix(in srgb, var(--ok) 6%, var(--bg-strong));
  }

  .checklist-index {
    @apply grid h-7 w-7 place-items-center rounded-full text-xs font-extrabold text-white;
    background: linear-gradient(145deg, var(--accent), color-mix(in srgb, var(--accent-alt) 36%, var(--accent) 64%));
  }

  .cards-grid {
    @apply grid gap-5;
  }

  .cards-grid-2 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .cards-grid-3 {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }

  .surface-card {
    @apply grid gap-4 rounded-3xl border p-6;
    border-color: color-mix(in srgb, var(--accent) 18%, var(--border));
    background: color-mix(in srgb, var(--bg-strong) 90%, transparent);
  }

  .stack-sm {
    @apply grid gap-3.5;
  }

  .surface-head {
    @apply flex items-center justify-between gap-3;
  }

  .surface-title {
    @apply text-xl;
    line-height: 1.2;
  }

  .surface-copy,
  .helper-text,
  .plan-audience,
  .metric-note {
    @apply text-sm text-text-muted;
    font-size: 0.96rem;
  }

  .mini-card {
    @apply grid gap-2.5 rounded-2xl border p-4;
    border-color: color-mix(in srgb, var(--accent) 16%, var(--border));
    background: color-mix(in srgb, var(--bg-strong) 94%, transparent);
  }

  .metric-card {
    @apply gap-2.5;
  }

  .metric-label {
    @apply text-xs font-extrabold uppercase text-text-muted;
    letter-spacing: 0.15em;
  }

  .metric-value {
    font-size: clamp(1.35rem, 2.6vw, 2rem);
    line-height: 1.1;
  }

  .price-inline {
    @apply text-lg font-extrabold;
  }

  .plan-price {
    @apply text-2xl font-extrabold;
  }

  .pricing-shell {
    @apply rounded-3xl border p-6;
    border-color: color-mix(in srgb, var(--accent) 22%, var(--border));
    background: color-mix(in srgb, var(--bg-strong) 92%, transparent);
  }

  .feature-list {
    @apply flex flex-wrap gap-2.5;
  }

  .feature-tag {
    @apply rounded-full border px-3.5 py-1.5 text-sm font-bold;
    border-color: color-mix(in srgb, var(--accent) 34%, var(--border));
    background: color-mix(in srgb, var(--accent) 10%, transparent);
    color: color-mix(in srgb, var(--accent-strong) 82%, var(--text-primary) 18%);
  }

  .check-grid {
    @apply m-0 grid gap-3;
    padding-left: 1.2rem;
  }

  .check-grid li {
    line-height: 1.62;
  }

  .warning-text {
    @apply text-warn;
  }

  .success-text {
    @apply text-ok;
  }

  .pill {
    @apply inline-flex items-center justify-center rounded-full px-3 py-1.5 text-xs font-extrabold uppercase;
    font-size: 0.7rem;
    line-height: 1;
    letter-spacing: 0.11em;
  }

  .pill-digital,
  .pill-live,
  .pill-paid,
  .pill-fulfilled,
  .pill-active,
  .pill-confirmed,
  .pill-completed {
    color: #0e6a3b;
    background: rgba(79, 205, 132, 0.2);
  }

  .pill-service,
  .pill-pending_payment,
  .pill-past_due,
  .pill-trialing,
  .pill-requested {
    color: #8d4f13;
    background: rgba(244, 170, 88, 0.23);
  }

  .pill-canceled,
  .pill-refunded,
  .pill-paused,
  .pill-incomplete {
    color: var(--text-muted);
    background: rgba(125, 142, 170, 0.22);
  }

  .state-success {
    border-color: color-mix(in srgb, var(--ok) 48%, var(--border));
    background: color-mix(in srgb, var(--ok) 7%, var(--bg-elevated));
  }

  .state-cancel {
    border-color: color-mix(in srgb, var(--warn) 44%, var(--border));
    background: color-mix(in srgb, var(--warn) 8%, var(--bg-elevated));
  }

  .tactical-hero {
    @apply gap-8;
    padding: 2.6rem;
    border-color: color-mix(in srgb, var(--accent) 38%, var(--border));
    background:
      radial-gradient(circle at 15% 12%, color-mix(in srgb, var(--accent-alt) 14%, transparent) 0%, transparent 35%),
      radial-gradient(circle at 88% 4%, color-mix(in srgb, var(--accent) 18%, transparent) 0%, transparent 34%),
      color-mix(in srgb, var(--bg-strong) 90%, var(--bg));
  }

  .tactical-hero-grid {
    @apply grid items-start gap-8;
    grid-template-columns: minmax(0, 1.15fr) minmax(0, 0.85fr);
  }

  .tactical-hero-main {
    @apply grid gap-6;
  }

  .tactical-kicker {
    @apply w-fit rounded-full border px-4 py-1.5 text-xs font-extrabold uppercase text-text-primary;
    letter-spacing: 0.14em;
    border-color: color-mix(in srgb, var(--accent) 42%, var(--border));
    background: color-mix(in srgb, var(--accent-alt) 18%, var(--bg-strong));
  }

  .tactical-title {
    font-size: clamp(2.35rem, 5.4vw, 4.45rem);
    line-height: 0.99;
    max-width: 11ch;
    text-wrap: balance;
  }

  .tactical-subtitle {
    @apply text-base text-text-muted;
    max-width: 64ch;
  }

  .tactical-actions {
    @apply flex flex-wrap gap-3.5;
  }

  .tactical-pill-row {
    @apply flex flex-wrap gap-2.5;
  }

  .tactical-pill-row span {
    @apply rounded-full border px-3.5 py-1.5 text-xs font-semibold text-text-primary;
    border-color: color-mix(in srgb, var(--accent) 22%, var(--border));
    background: color-mix(in srgb, var(--bg-strong) 94%, transparent);
  }

  .tactical-hero-aside {
    @apply grid gap-4 rounded-3xl border p-6;
    border-color: color-mix(in srgb, var(--accent-alt) 36%, var(--border));
    background:
      linear-gradient(
        150deg,
        color-mix(in srgb, var(--accent-alt) 18%, var(--bg-strong) 82%) 0%,
        color-mix(in srgb, var(--accent) 10%, var(--bg-strong) 90%) 100%
      );
  }

  .tactical-hero-aside h3 {
    @apply text-2xl;
    line-height: 1.17;
    max-width: 19ch;
  }

  .tactical-proof-grid {
    @apply grid gap-4;
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }

  .tactical-proof-card {
    @apply grid gap-2.5 rounded-2xl border p-5;
    border-color: color-mix(in srgb, var(--accent) 26%, var(--border));
    background: color-mix(in srgb, var(--bg-strong) 94%, transparent);
  }

  .tactical-proof-card-highlight {
    border-color: color-mix(in srgb, var(--accent-alt) 40%, var(--border));
    background: color-mix(in srgb, var(--accent-alt) 12%, var(--bg-strong));
  }

  .tactical-proof-label {
    @apply text-xs font-extrabold uppercase text-text-muted;
    letter-spacing: 0.14em;
  }

  .tactical-proof-card h3 {
    @apply text-[1.65rem];
    line-height: 1.1;
  }

  .tactical-proof-note {
    @apply text-sm text-text-muted;
  }

  .tactical-section {
    @apply gap-6;
  }

  .tactical-section > h2 {
    font-size: clamp(1.62rem, 2.8vw, 2.5rem);
    line-height: 1.12;
    max-width: 27ch;
    text-wrap: balance;
  }

  .tactical-friction-grid {
    @apply grid gap-5;
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .tactical-card {
    @apply grid gap-4 rounded-3xl border p-6;
    border-color: color-mix(in srgb, var(--accent) 22%, var(--border));
    background: color-mix(in srgb, var(--bg-strong) 92%, transparent);
  }

  .tactical-card h3 {
    @apply text-xl;
    line-height: 1.2;
  }

  .tactical-card p {
    @apply text-[0.97rem] text-text-muted;
  }

  .tactical-rails {
    @apply m-0 grid list-none gap-4 p-0;
  }

  .tactical-rail {
    @apply grid gap-3.5 rounded-2xl border p-5;
    grid-template-columns: auto 1fr;
    border-color: color-mix(in srgb, var(--accent) 24%, var(--border));
    background: color-mix(in srgb, var(--bg-strong) 95%, transparent);
  }

  .tactical-rail-index {
    @apply grid h-8 w-8 place-items-center rounded-full text-sm font-extrabold text-white;
    margin-top: 0.08rem;
    background: linear-gradient(145deg, var(--accent), color-mix(in srgb, var(--accent-alt) 48%, var(--accent) 52%));
    box-shadow: 0 8px 18px color-mix(in srgb, var(--accent) 40%, transparent);
  }

  .tactical-rail-body {
    @apply grid gap-1.5;
  }

  .tactical-rail-body strong {
    @apply text-base;
    line-height: 1.2;
  }

  .tactical-rail-body p {
    @apply text-sm text-text-muted;
  }

  .tactical-sprint-grid {
    @apply grid gap-4;
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }

  .tactical-sprint-card {
    @apply grid gap-3 rounded-2xl border p-5;
    border-color: color-mix(in srgb, var(--accent) 26%, var(--border));
    background: color-mix(in srgb, var(--bg-strong) 95%, transparent);
  }

  .tactical-sprint-day {
    @apply w-fit rounded-full border px-3 py-1 text-xs font-extrabold uppercase text-text-primary;
    letter-spacing: 0.12em;
    border-color: color-mix(in srgb, var(--accent) 34%, var(--border));
    background: color-mix(in srgb, var(--accent) 12%, transparent);
  }

  .tactical-sprint-card h3 {
    @apply text-lg;
    line-height: 1.2;
  }

  .tactical-sprint-card p {
    @apply text-sm text-text-muted;
  }

  .tactical-fallback {
    @apply rounded-xl border p-3 text-sm;
    border-color: color-mix(in srgb, var(--accent-alt) 32%, var(--border));
    background: color-mix(in srgb, var(--accent-alt) 8%, var(--bg-strong));
  }

  .tactical-math {
    border-color: color-mix(in srgb, var(--accent-alt) 35%, var(--border));
    background:
      linear-gradient(
        145deg,
        color-mix(in srgb, var(--accent-alt) 16%, var(--bg-strong) 84%) 0%,
        color-mix(in srgb, var(--accent) 8%, var(--bg-strong) 92%) 100%
      );
  }

  .signal-lab,
  .tactical-signal {
    border-color: color-mix(in srgb, var(--signal) 38%, var(--border));
    background:
      linear-gradient(
        145deg,
        color-mix(in srgb, var(--signal) 14%, var(--bg-strong) 86%) 0%,
        color-mix(in srgb, var(--accent) 10%, var(--bg-strong) 90%) 100%
      );
  }

  .landing-final,
  .tactical-final {
    @apply gap-6;
    border-color: color-mix(in srgb, var(--accent) 36%, var(--border));
    background:
      linear-gradient(
        140deg,
        color-mix(in srgb, var(--accent) 14%, var(--bg-strong) 86%) 0%,
        color-mix(in srgb, var(--accent-alt) 9%, var(--bg-strong) 91%) 100%
      );
  }

  .landing-final h2,
  .tactical-final h2 {
    font-size: clamp(1.65rem, 3vw, 2.28rem);
    line-height: 1.1;
    max-width: 24ch;
  }
}

@media (max-width: 1180px) {
  .cards-grid-3,
  .tactical-proof-grid,
  .tactical-sprint-grid,
  .tutorial-grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }

  .tactical-hero-grid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 980px) {
  .site-header {
    @apply static;
    grid-template-columns: 1fr;
  }

  .site-nav {
    @apply justify-start;
  }

  .site-actions {
    @apply justify-start;
  }

  .cards-grid-2,
  .cards-grid-3,
  .launch-checklist-grid,
  .tutorial-grid,
  .tactical-friction-grid,
  .tactical-sprint-grid,
  .tactical-proof-grid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 720px) {
  .shell {
    width: min(1240px, 95vw);
    padding-top: 1.5rem;
  }

  .panel {
    @apply p-5;
  }

  .screen {
    @apply gap-6 p-6;
  }

  .screen-title {
    font-size: clamp(1.8rem, 8vw, 2.7rem);
    max-width: 100%;
  }

  .screen-actions,
  .tactical-actions,
  .hero-actions {
    @apply items-stretch;
    flex-direction: column;
  }

  .screen-actions .button,
  .tactical-actions .button,
  .hero-actions .button {
    @apply w-full;
  }

  .tactical-hero {
    padding: 1.4rem;
  }

  .tactical-title {
    font-size: clamp(1.9rem, 9vw, 2.7rem);
    max-width: 100%;
  }

  .surface-card,
  .pricing-shell,
  .tactical-hero-aside,
  .tactical-card,
  .tactical-proof-card,
  .tactical-rail,
  .tactical-sprint-card {
    @apply p-5;
  }
}

@media (prefers-reduced-motion: reduce) {
  .shell > * {
    animation: none;
  }

  .button,
  .site-link {
    transition: none;
  }
}

@keyframes rise-in {
  0% {
    opacity: 0;
    transform: translateY(14px);
  }

  100% {
    opacity: 1;
    transform: translateY(0);
  }
}
